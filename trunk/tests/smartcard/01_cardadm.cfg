#! config for 01_cardadm.t
#
# These values depend on correct data in the LDAP server.
# 
# Purging existing LDAP entries
#
#   grep ^dn 01_cardadm.ldif | cut -d ' ' -f 2- | \
#       ldapdelete -x -D "cn=Manager,dc=dbgroup,dc=com" \
#       -w secret -h localhost \
#       -f -

# General OpenXPKI Instance parameters
[instance]
realm = User TEST CA
socketfile = /var/openxpki/openxpki.socket
ldapdelete = /usr/bin/ldapdelete
ldapadd = /usr/bin/ldapadd

[tests]
basics = 1
acl = 1
ldapuid = 1
ldaptok = 1
unblockwf = 1
mods = 1
unblockchall = 1

# Access for loading LDAP config
[ldapadmin]
url = ldap://localhost
user = cn=Manager,dc=dbgroup,dc=com
pass = secret

# Self-serve User
[selfserve]
name = selfserve
role = User

# Regular OpenXPKI user
[user]
name = oxi.user@db.com
role = User

# RA Officer 1
[ra1]
name = ra1
role = RA Operator

# RA Officer 2
[ra2]
name = ra2
role = RA Operator

############################################################
# Test Set - ACL
############################################################

[t-acl]
token = gem2_001

############################################################
# Test Set - LDAP with user id
############################################################

[t-ldap-uid-1]
ldap_workflow_creator = test.user02@db.com
smartcard_status = activated

[t-ldap-uid-2]
token_owner = test*

[t-ldap-uid-3]
token_owner = unknown user

############################################################
# Test Set - LDAP with token id
############################################################

[t-ldap-token-1]
token = gem2_005
ldap_workflow_creator = test.user05@db.com
smartcard_status = activated

[t-ldap-token-2]
token = gem2_006

[t-ldap-token-3]
token = gem2_007

[t-ldap-token-4]
token = gem2_000000000

############################################################
# Test Set - Unblock and Personalization Workflows
############################################################

[t-wf-1]
user = test.user08@db.com
token = gem2_008
pass = User

[t-wf-2]
user = test.user09@db.com
token = gem2_009
pass = User

############################################################
# Test Set - Unblock and Personalization Workflows
############################################################

[t-mod-1]
token = gem2_010
ldap_cn = Test User10
ldap_workflow_creator = test.user10@db.com
smartcard_status = initial
bogus_user = /dev/null

[t-mod-2]
token = gem2_010
ldap_cn = Test User11
ldap_workflow_creator = test.user11@db.com
smartcard_status = initial

############################################################
# Test Set - Unblock and Personalization Workflows
############################################################

[t-unblock-chall-1]
token = gem2_011
challenge = d1e079d6b3d978b8
response = 0f177853c832cf85

[t-unblock-chall-2]
token = gem2_012
puk = 57d286063e911f12f6dfdff4f00519a0be9717841867660f
challenge = 9b713f44c8447d93
response = 12c57d8c6a6f30ae


