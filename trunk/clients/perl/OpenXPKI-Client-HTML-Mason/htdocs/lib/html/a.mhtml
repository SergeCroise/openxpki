%# a.mhtml
%#
%# HTML::Mason module for displaying an anchor element
%#
%# ARGS:
%#
%# target   => The target URI to be linked to
%# label    => Text to display
%# params   => Additional parameters to be passed
%#
%# EXAMPLE:
%#
%# <& /lib/html/a.mhtml,
%#  target => $context->{menu}->get_root() . '/service/other_info.html',
%#  label => $username,
%#  params => [
%#      [ 'userid', $userid ],
%#  ],
%# %>
%#
%#
<%args>
    $target => undef
    $params => undef
    $label  => undef
</%args>
<a href="<% $target %>?<% $param %>;<% $context->{menu}->get_link_params() %>"><% $label %></a>
<%init>
  my $param = "";
  foreach my $key (@{$params})
  {
    $param .= ";" if ($param);
    $param .= $key->[0]."=".URI::Escape::uri_escape_utf8($key->[1]);
  }
</%init>
<%once>
use URI::Escape;
</%once>
